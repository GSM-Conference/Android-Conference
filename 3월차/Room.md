## Room이란?

![Room](https://images.velog.io/post-images/rjsdnqkr1/50680820-dd2e-11e9-9c1c-1d4b7da0a4bc/imagemblog-e1512640321599.png)

SNS를 사용하는 중에 네트워크 연결이 끊어졌을 때 새로운 사진들이 로딩 중이고 이전에 봤던 사진들은 계속 보이는 것을 경험해 본적이 있을텐데, 이를 데이터 캐싱이라고 하며, 네트워크에 액세스 할 수 없을 경우에도 로컬 데이터베이스의 데이터를 가지고 사용자들이 앱을 사용할 수 있도록 할 수 있는데 Android에서는 SQLite라는 가벼운 관계형 데이터베이스가 네이티브 라이브러리에 포함되어 있다. 하지만 아래와 같은 이유로 인해 SQLite보다 Jetpack라이브러리에 포ㄴ함된 Room을 사용권장하고 있다.

<br>

- SQL쿼리에 대해서 올바르게 작성이 되었는지 컴파일 타임에 확인할 수 없다. 이로 인해 잘못된 쿼리 사용으로 영향을 받는 데이터가 생긴다면, 오류를 직접 업데이트해야한다. 이 과정이 시간이 오래걸리고 휴먼 에러를 발생시키기도 한다.
- SQL쿼리와 데이터 객체와의 변환이 자유롭지 못하다. 쿼리를 통해 필터들을 각각 읽고 하나의 데이터 객체의 생성자로서 대입하기 때문에 상용구 코드들이 많이 사용될 수밖에 없다.
- 데이터베이스 마이그레이션을 SQLite에 비해 쉽게 할 수 있다.

<br>

이러한 이유로 인해 안드로이드에서 로컬 데이터베이스를 사용하게 된다면 SQLite 데이터베이스에 있는 정보에 액세스하기위한 추상화 계층인 Room 라이브러리를 사용해야 한다. 즉 Room은 SQLite에 대한 추상화 계층(복잡한 SQLite로부터 핵심적인 기능들을 모아 제공하는 계층)을 제공하여 데이터베이스 액세스 동시에 SQLite를 완벽히 활용한다.

---

## Room 기본 구성요소

- 데이터베이스 : 데이터베이스는 앱에 저장되어 있는 로컬 데이터에 대한 액세스 포인트를 제공해주는 역할

- DAO(Data Access Objects) : DAO는 앱에서 데이터베이스의 데이터를 추가, 삭제, 업데이트 작업을 할 수 있는 메소드를 제공해주는 그런 역할, 그 외에도 다양한 쿼리 사용 가능

- Entity : 데이터베이스 내에 존재하는 테이블을 가르킨다.

<br>

![Elements_Of_Room](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbcECXI%2FbtrpfgGeEIa%2FFLpkYHkHWyaZxCkdKPhkGk%2Fimg.png)

---

이제 Room을 사용해보곘다.(안드로이드 공식문서 참고)
